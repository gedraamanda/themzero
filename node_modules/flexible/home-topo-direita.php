<?php
$posts = get_sub_field( 'home_direita' );

if ( empty( $posts ) ) {
	return;
}
?>
<div class="posts-sidebar mt-5" style="width: 60%;float: right;margin-right: 15%;">
	<?php
	foreach ( $posts as $post ) {
		$postData = $post['post'];

		$titulo       = ! empty( $post['titulo'] ) ? $post['titulo'] : $postData->post_title;
		$linha_fina   = ! empty( $post['linha_fina'] ) ? $post['linha_fina'] : get_field( 'intro-do-texto', $postData->ID );
		$img_destaque = get_the_post_thumbnail_url( $postData->ID, 'medium' );
		$categoria    = get_the_category( $postData->ID );
		?>

        <div class="cards mb-5">
	        <?php if ( ! empty( $img_destaque ) ) { ?>
                <div class="cards__imagem w-100" style="background: url('<?php echo $img_destaque ?>'); height: 230px;"></div>
	        <?php } ?>

            <div class="cards__texto position-relative">
                <div class="categoria border border-dark text-center d-inline-block py-1 px-3">
                    <a href="#" class="text-uppercase" style="text-decoration: none"><?php echo $categoria[0]->name ?></a>
                </div>

                <div class="titulo py-2">
                    <a href="#" style="text-decoration: none">
                        <h3 class="m-0 text-uppercase"><?php echo $titulo ?></h3>

	                    <?php if(!empty($linha_fina)) {
		                    echo '<p class="m-0 mt-2">'.$linha_fina.'</p>';
	                    } ?>
                    </a>
                </div>
            </div>
        </div>
	<?php }
	?>

</div>
